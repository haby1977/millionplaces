<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>One Million Places</title>

<script src="https://use.typekit.net/cad5ndb.js"></script>
<script>try{Typekit.load({ async: true });}catch(e){}</script>
<script src="https://fonts.googleapis.com/icon?family=Material+Icons"></script>

<script src="https://ucarecdn.com/libs/widget/3.x/uploadcare.full.min.js"></script> 

<style>
/* * Collez ici tout votre CSS interne (le cas échéant). 
 * Sinon, assurez-vous que votre fichier CSS externe est lié (exemple ci-dessous).
 */
</style>
<link rel="stylesheet" href="css/style.css"> </head>
<body>

<div id="loaderPage" class="full-screen-center">
    <h1>ONE MILLION PLACES</h1>
    <p>Press <span class="material-icons">east</span> to enter</p>
</div>

<div id="mainSite" class="hidden">

    <header>
        <div class="logo">ONE MILLION PLACES</div>
        <div class="menu">
            <span id="objectCount">0</span>
            <button id="zoomBtn" onclick="toggleZoom()">+</button>
            <button onclick="openUploadModal()">POST</button>
        </div>
    </header>

    <main>
        <div id="gallery" data-columns="20">
            <div class="loading-text">Loading archive...</div>
        </div>
    </main>

</div>

<div id="objectModal" class="modal hidden">
    <div class="modal-overlay" onclick="closeObjectModal()"></div>
    <div class="modal-box modal-detail">
        <button class="close" onclick="closeObjectModal()">+</button>
        <img id="modalImg" src="#" alt="Object Image">
        <div class="content">
            <h2 id="modalTitle">TITLE</h2>
            <p id="modalStory">"Story"</p>
            <p id="modalAuthor">— Author</p>
            <a id="modalLink" href="#" target="_blank" class="hidden">
                Link: <span id="modalLinkText"></span>
            </a>
        </div>
    </div>
</div>


 
 
<div id="uploadModal" class="modal hidden">
  <div class="modal-overlay" onclick="closeUploadModal()"></div>
  <div class="modal-box modal-form">
    <button class="close" onclick="closeUploadModal()">+</button>
    <h2>POST YOUR PLACE</h2>
    <form id="uploadForm">
            <div class="form-left"> 
                <div class="form-section">
          <div class="form-section-title">Your Favorite Place is ... </div>
          
          <input type="hidden" 
            role="uploadcare-uploader" 
            id="photoUploadCare" 
            name="photoUploadCare" 
            data-public-key="VOTRE_CLÉ_PUBLIQUE_UPLOADCARE"             data-crop="1:1" 
            data-image-shrink="1080x1080" 
            data-clearable="true" 
            required 
          />
        </div>

                <div class="form-section">
          <div class="form-section-title">Title</div>
          <input type="text" id="titre" required maxlength="100">
        </div>

                <div class="form-section">
          <div class="form-section-title">Your Story (why this place?)</div>
          <textarea id="histoire" required maxlength="500"></textarea>
        </div>
      </div>
      
            <div class="form-right">

                <div class="form-section">
          <div class="form-section-title">Your Name & City (Optional)</div>
          <input type="text" id="prenom" placeholder="Your Name" maxlength="50">
          <input type="text" id="country" placeholder="City/Country" maxlength="50">
        </div>
        
                <div class="form-section">
          <div class="form-section-title">Your Website / Social Link (Optional)</div>
          <input type="text" id="lien" placeholder="https://">
        </div>

                <div class="form-section">
          <div class="form-section-title">Your Email (for the receipt)</div>
          <input type="email" id="email" required>
        </div>

                <div class="form-section">
          <div class="form-section-title">Choose your price (min <span id="displayPrice">€1</span>)</div>
          <div class="price-options">
            <button type="button" class="btn-price selected" onclick="selectPrice(1, event)">€1</button>
            <button type="button" class="btn-price" onclick="selectPrice(5, event)">€5</button>
            <button type="button" class="btn-price" onclick="selectPrice(10, event)">€10</button>
          </div>
          <input type="number" id="customPrice" placeholder="Custom Amount (min €1)">
          <input type="hidden" id="selectedPrice" value="1">
        </div>

                <button type="submit" class="btn-submit">
          CONTINUE TO PAYMENT (<span id="displayPrice2">€1</span>)
        </button>
      </div>
    </form>
  </div>
</div>


 
 
 
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script> 
<script src="https://js.stripe.com/v3/"></script> 
<script src="js/main.js"></script>
</body>
</html>